<section class="TodoSection">
  <div class="TodoSection-title">
    <p class="TodoSectionTitle_text"><%= section_head %></p>
    <p class="TodoSectionTitle_remainingCount"><%= (render_completed) ? todos.completed.count.to_s + " /" +  todos.count.to_s :  "0 /" + (todos.count - todos.completed.count).to_s%></p>
  </div>

  <ul>
    <% todos.all.each do |todo| %>
      <% if !(!render_completed && todo.completed) %>
          <li class="TodoItem">
            <%= form_with(url: "/todos/#{todo.id}", method: "put") do %>
              <% if (todo.completed) %>
                <input type="checkbox" class="TodoItem_checkbox" checked name="completed" onclick = "this.form.submit()" />
              <% else %>
                <input type="checkbox" class="TodoItem_checkbox" name="completed" onclick = "this.form.submit()"/>
              <% end %>
            <% end %>

            <%# 3.  Striking the todo which is completed %>
            <% className =  (todo.completed) ? "TodoItem_completed" : "TodoItem_Text" %>
            <p class = <%= className %>> <%= todo.todo_text %> </p>

            <% if(show_due_date) %>
              <p class="TodoItem_date"><%= todo.due_date.to_s(:short) %></p>
            <% end %>

            <a href="javascript:void(0)" class="TodoItem_delete">
              <img src="trashcan.png" alt="DeleteIcon"
            /></a>

          </li>
      <% end %>
    <%end%>
  </ul>

</section>
